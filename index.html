<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>copypasta</title>
</head>
<body>
    <pre>
#!/usr/bin/env python
from __future__ import print_function
import sys

current_key = None
current_sum = 0

for line in sys.stdin:
    line = line.strip()
    if not line:
        continue
    parts = line.split('\t')
    if len(parts) != 2:
        continue
    key, val = parts
    try:
        v = int(val)
    except:
        continue
    if current_key == key:
        current_sum += v
    else:
        if current_key is not None:
            state, candidate = current_key.split('|', 1)
            print("{0}\t{1}\t{2}".format(state, candidate, current_sum))
        current_key = key
        current_sum = v

# final key
if current_key is not None:
    state, candidate = current_key.split('|', 1)
    print("{0}\t{1}\t{2}".format(state, candidate, current_sum))
    </pre>
</body>
</html>